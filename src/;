import React, { useRef, useState, useEffect } from 'react';
import { Flex } from '@chakra-ui/react';

export interface GameDisplayProps {
    map: string;
}

const useForceUpdate = (cb) => {
    useEffect(() => {
       cb('dummy');
    }, [])
}

const GameDisplay: React.FunctionComponent<GameDisplayProps> = ({
    map
}) => {
    const display = useRef<null | HTMLDivElement>();
    const [dummy, setDummy] = useState<string>('');

    useForceUpdate(setDummy);

    return (
        <Flex 
            h='100%'
            bgImage={map}
            bgOrigin='content-box'
            bgPos= '0px 0px'
            cursor= 'grab'
            ref={display}
            w='100%'
        >
            {/* Make bgimage draggable */}
        </Flex>
    );
}

export { GameDisplay };
